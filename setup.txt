ubuntu@ip-172-31-84-204:~$ sudo su -
root@ip-172-31-84-204:~# curl -sL https://deb.nodesource.com/setup_12.x | sudo -E bash -

## Installing the NodeSource Node.js 12.x repo...


## Populating apt-get cache...

+ apt-get update
Hit:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal InRelease
Get:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]
Get:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports InRelease [108 kB]
Get:4 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/universe amd64 Packages [8628 kB]
Get:5 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]
Get:6 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/universe Translation-en [5124 kB]
Get:7 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/universe amd64 c-n-f Metadata [265 kB]
Get:8 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/multiverse amd64 Packages [144 kB]
Get:9 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/multiverse Translation-en [104 kB]
Get:10 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/multiverse amd64 c-n-f Metadata [9136 B]
Get:11 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 Packages [1510 kB]
Get:12 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main Translation-en [296 kB]
Get:13 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 c-n-f Metadata [14.7 kB]
Get:14 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/restricted amd64 Packages [736 kB]
Get:15 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/restricted Translation-en [105 kB]
Get:16 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/restricted amd64 c-n-f Metadata [532 B]
Get:17 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/universe amd64 Packages [894 kB]
Get:18 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/universe Translation-en [196 kB]
Get:19 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/universe amd64 c-n-f Metadata [20.0 kB]
Get:20 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/multiverse amd64 Packages [24.8 kB]
Get:21 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/multiverse Translation-en [6928 B]
Get:22 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/multiverse amd64 c-n-f Metadata [620 B]
Get:23 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/main amd64 Packages [42.0 kB]
Get:24 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/main Translation-en [10.0 kB]
Get:25 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/main amd64 c-n-f Metadata [864 B]
Get:26 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/restricted amd64 c-n-f Metadata [116 B]
Get:27 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/universe amd64 Packages [19.5 kB]
Get:28 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/universe Translation-en [13.4 kB]
Get:29 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/universe amd64 c-n-f Metadata [672 B]
Get:30 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/multiverse amd64 c-n-f Metadata [116 B]
Get:31 http://security.ubuntu.com/ubuntu focal-security/main amd64 Packages [1178 kB]
Get:32 http://security.ubuntu.com/ubuntu focal-security/main Translation-en [210 kB]
Get:33 http://security.ubuntu.com/ubuntu focal-security/main amd64 c-n-f Metadata [9132 B]
Get:34 http://security.ubuntu.com/ubuntu focal-security/restricted amd64 Packages [686 kB]
Get:35 http://security.ubuntu.com/ubuntu focal-security/restricted Translation-en [97.9 kB]
Get:36 http://security.ubuntu.com/ubuntu focal-security/restricted amd64 c-n-f Metadata [536 B]
Get:37 http://security.ubuntu.com/ubuntu focal-security/universe amd64 Packages [677 kB]
Get:38 http://security.ubuntu.com/ubuntu focal-security/universe Translation-en [115 kB]
Get:39 http://security.ubuntu.com/ubuntu focal-security/universe amd64 c-n-f Metadata [13.0 kB]
Get:40 http://security.ubuntu.com/ubuntu focal-security/multiverse amd64 Packages [21.8 kB]
Get:41 http://security.ubuntu.com/ubuntu focal-security/multiverse Translation-en [4948 B]
Get:42 http://security.ubuntu.com/ubuntu focal-security/multiverse amd64 c-n-f Metadata [536 B]
Fetched 21.5 MB in 4s (5650 kB/s)
Reading package lists... Done

## Confirming "focal" is supported...

+ curl -sLf -o /dev/null 'https://deb.nodesource.com/node_12.x/dists/focal/Release'

## Adding the NodeSource signing key to your keyring...

+ curl -s https://deb.nodesource.com/gpgkey/nodesource.gpg.key | gpg --dearmor | tee /usr/share/keyrings/nodesource.gpg >/dev/null

## Creating apt sources list file for the NodeSource Node.js 12.x repo...

+ echo 'deb [signed-by=/usr/share/keyrings/nodesource.gpg] https://deb.nodesource.com/node_12.x focal main' > /etc/apt/sources.list.d/nodesource.list
+ echo 'deb-src [signed-by=/usr/share/keyrings/nodesource.gpg] https://deb.nodesource.com/node_12.x focal main' >> /etc/apt/sources.list.d/nodesource.list

Hit:5 http://security.ubuntu.com/ubuntu focal-security InRelease
Get:6 https://deb.nodesource.com/node_12.x focal/main amd64 Packages [769 B]
Fetched 5352 B in 0s (12.1 kB/s)
Reading package lists... Done

## Run `sudo apt-get install -y nodejs` to install Node.js 12.x and npm
## You may also need development tools to build native addons:
     sudo apt-get install gcc g++ make
## To install the Yarn package manager, run:
     curl -sL https://dl.yarnpkg.com/debian/pubkey.gpg | gpg --dearmor | sudo tee /usr/share/keyrings/yarnkey.gpg >/dev/null
     echo "deb [signed-by=/usr/share/keyrings/yarnkey.gpg] https://dl.yarnpkg.com/debian stable main" | sudo tee /etc/apt/sources.list.d/yarn.list
     sudo apt-get update && sudo apt-get install yarn


root@ip-172-31-84-204:~# node -v

Command 'node' not found, but can be installed with:

apt install nodejs

root@ip-172-31-84-204:~# apt install nodejs
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following NEW packages will be installed:
  nodejs
0 upgraded, 1 newly installed, 0 to remove and 37 not upgraded.
Need to get 18.1 MB of archives.
After this operation, 93.7 MB of additional disk space will be used.
Get:1 https://deb.nodesource.com/node_12.x focal/main amd64 nodejs amd64 12.22.9-deb-1nodesource1 [18.1 MB]
Fetched 18.1 MB in 1s (34.8 MB/s)
Selecting previously unselected package nodejs.
(Reading database ... 63895 files and directories currently installed.)
Preparing to unpack .../nodejs_12.22.9-deb-1nodesource1_amd64.deb ...
Unpacking nodejs (12.22.9-deb-1nodesource1) ...
Setting up nodejs (12.22.9-deb-1nodesource1) ...
Processing triggers for man-db (2.9.1-1) ...
root@ip-172-31-84-204:~# node -v
v12.22.9
root@ip-172-31-84-204:~# npm -v
6.14.15
root@ip-172-31-84-204:~# apt-get update
Hit:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal InRelease
Hit:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates InRelease
Hit:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports InRelease
Hit:4 https://deb.nodesource.com/node_12.x focal InRelease
Get:5 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]
Fetched 114 kB in 0s (228 kB/s)
Reading package lists... Done
root@ip-172-31-84-204:~# apt-get install nginx
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following additional packages will be installed:
  fontconfig-config fonts-dejavu-core libfontconfig1 libgd3 libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter
  libnginx-mod-mail libnginx-mod-stream libtiff5 libwebp6 libxpm4 nginx-common nginx-core
Suggested packages:
  libgd-tools fcgiwrap nginx-doc ssl-cert
The following NEW packages will be installed:
  fontconfig-config fonts-dejavu-core libfontconfig1 libgd3 libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter
  libnginx-mod-mail libnginx-mod-stream libtiff5 libwebp6 libxpm4 nginx nginx-common nginx-core
0 upgraded, 17 newly installed, 0 to remove and 37 not upgraded.
Need to get 2432 kB of archives.
After this operation, 7891 kB of additional disk space will be used.
Do you want to continue? [Y/n] y
Get:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/main amd64 fonts-dejavu-core all 2.37-1 [1041 kB]
Get:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/main amd64 fontconfig-config all 2.13.1-2ubuntu3 [28.8 kB]
Get:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/main amd64 libfontconfig1 amd64 2.13.1-2ubuntu3 [114 kB]
Get:4 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 libjpeg-turbo8 amd64 2.0.3-0ubuntu1.20.04.1 [117 kB]
Get:5 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/main amd64 libjpeg8 amd64 8c-2ubuntu8 [2194 B]
Get:6 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/main amd64 libjbig0 amd64 2.1-3.1build1 [26.7 kB]
Get:7 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 libwebp6 amd64 0.6.1-2ubuntu0.20.04.1 [185 kB]
Get:8 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 libtiff5 amd64 4.1.0+git191117-2ubuntu0.20.04.2 [162 kB]
Get:9 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/main amd64 libxpm4 amd64 1:3.5.12-1 [34.0 kB]
Get:10 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 libgd3 amd64 2.2.5-5.2ubuntu2.1 [118 kB]
Get:11 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 nginx-common all 1.18.0-0ubuntu1.2 [37.5 kB]
Get:12 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 libnginx-mod-http-image-filter amd64 1.18.0-0ubuntu1.2 [14.4 kB]
Get:13 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 libnginx-mod-http-xslt-filter amd64 1.18.0-0ubuntu1.2 [12.7 kB]
Get:14 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 libnginx-mod-mail amd64 1.18.0-0ubuntu1.2 [42.5 kB]
Get:15 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 libnginx-mod-stream amd64 1.18.0-0ubuntu1.2 [67.3 kB]
Get:16 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 nginx-core amd64 1.18.0-0ubuntu1.2 [425 kB]
Get:17 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 nginx all 1.18.0-0ubuntu1.2 [3620 B]
Fetched 2432 kB in 0s (28.7 MB/s)
Preconfiguring packages ...
Selecting previously unselected package fonts-dejavu-core.
(Reading database ... 68791 files and directories currently installed.)
Preparing to unpack .../00-fonts-dejavu-core_2.37-1_all.deb ...
Unpacking fonts-dejavu-core (2.37-1) ...
Selecting previously unselected package fontconfig-config.
Preparing to unpack .../01-fontconfig-config_2.13.1-2ubuntu3_all.deb ...
Unpacking fontconfig-config (2.13.1-2ubuntu3) ...
Selecting previously unselected package libfontconfig1:amd64.
Preparing to unpack .../02-libfontconfig1_2.13.1-2ubuntu3_amd64.deb ...
Unpacking libfontconfig1:amd64 (2.13.1-2ubuntu3) ...
Selecting previously unselected package libjpeg-turbo8:amd64.
Preparing to unpack .../03-libjpeg-turbo8_2.0.3-0ubuntu1.20.04.1_amd64.deb ...
Unpacking libjpeg-turbo8:amd64 (2.0.3-0ubuntu1.20.04.1) ...
Selecting previously unselected package libjpeg8:amd64.
Preparing to unpack .../04-libjpeg8_8c-2ubuntu8_amd64.deb ...
Unpacking libjpeg8:amd64 (8c-2ubuntu8) ...
Selecting previously unselected package libjbig0:amd64.
Preparing to unpack .../05-libjbig0_2.1-3.1build1_amd64.deb ...
Unpacking libjbig0:amd64 (2.1-3.1build1) ...
Selecting previously unselected package libwebp6:amd64.
Preparing to unpack .../06-libwebp6_0.6.1-2ubuntu0.20.04.1_amd64.deb ...
Unpacking libwebp6:amd64 (0.6.1-2ubuntu0.20.04.1) ...
Selecting previously unselected package libtiff5:amd64.
Preparing to unpack .../07-libtiff5_4.1.0+git191117-2ubuntu0.20.04.2_amd64.deb ...
Unpacking libtiff5:amd64 (4.1.0+git191117-2ubuntu0.20.04.2) ...
Selecting previously unselected package libxpm4:amd64.
Preparing to unpack .../08-libxpm4_1%3a3.5.12-1_amd64.deb ...
Unpacking libxpm4:amd64 (1:3.5.12-1) ...
Selecting previously unselected package libgd3:amd64.
Preparing to unpack .../09-libgd3_2.2.5-5.2ubuntu2.1_amd64.deb ...
Unpacking libgd3:amd64 (2.2.5-5.2ubuntu2.1) ...
Selecting previously unselected package nginx-common.
Preparing to unpack .../10-nginx-common_1.18.0-0ubuntu1.2_all.deb ...
Unpacking nginx-common (1.18.0-0ubuntu1.2) ...
Selecting previously unselected package libnginx-mod-http-image-filter.
Preparing to unpack .../11-libnginx-mod-http-image-filter_1.18.0-0ubuntu1.2_amd64.deb ...
Unpacking libnginx-mod-http-image-filter (1.18.0-0ubuntu1.2) ...
Selecting previously unselected package libnginx-mod-http-xslt-filter.
Preparing to unpack .../12-libnginx-mod-http-xslt-filter_1.18.0-0ubuntu1.2_amd64.deb ...
Unpacking libnginx-mod-http-xslt-filter (1.18.0-0ubuntu1.2) ...
Selecting previously unselected package libnginx-mod-mail.
Preparing to unpack .../13-libnginx-mod-mail_1.18.0-0ubuntu1.2_amd64.deb ...
Unpacking libnginx-mod-mail (1.18.0-0ubuntu1.2) ...
Selecting previously unselected package libnginx-mod-stream.
Preparing to unpack .../14-libnginx-mod-stream_1.18.0-0ubuntu1.2_amd64.deb ...
Unpacking libnginx-mod-stream (1.18.0-0ubuntu1.2) ...
Selecting previously unselected package nginx-core.
Preparing to unpack .../15-nginx-core_1.18.0-0ubuntu1.2_amd64.deb ...
Unpacking nginx-core (1.18.0-0ubuntu1.2) ...
Selecting previously unselected package nginx.
Preparing to unpack .../16-nginx_1.18.0-0ubuntu1.2_all.deb ...
Unpacking nginx (1.18.0-0ubuntu1.2) ...
Setting up libxpm4:amd64 (1:3.5.12-1) ...
Setting up nginx-common (1.18.0-0ubuntu1.2) ...






































                                                                     [ Read 40 lines ]
Created symlink /etc/systemd/system/multi-user.target.wants/nginx.service → /lib/systemd/system/nginx.service.
Setting up libjbig0:amd64 (2.1-3.1build1) ...
Setting up libnginx-mod-http-xslt-filter (1.18.0-0ubuntu1.2) ...
Setting up libwebp6:amd64 (0.6.1-2ubuntu0.20.04.1) ...
Setting up fonts-dejavu-core (2.37-1) ...
Setting up libjpeg-turbo8:amd64 (2.0.3-0ubuntu1.20.04.1) ...
Setting up libjpeg8:amd64 (8c-2ubuntu8) ...
Setting up libnginx-mod-mail (1.18.0-0ubuntu1.2) ...
Setting up fontconfig-config (2.13.1-2ubuntu3) ...
Setting up libnginx-mod-stream (1.18.0-0ubuntu1.2) ...
Setting up libtiff5:amd64 (4.1.0+git191117-2ubuntu0.20.04.2) ...
Setting up libfontconfig1:amd64 (2.13.1-2ubuntu3) ...
Setting up libgd3:amd64 (2.2.5-5.2ubuntu2.1) ...
Setting up libnginx-mod-http-image-filter (1.18.0-0ubuntu1.2) ...
Setting up nginx-core (1.18.0-0ubuntu1.2) ...
Setting up nginx (1.18.0-0ubuntu1.2) ...
Processing triggers for ufw (0.36-6ubuntu1) ...
Processing triggers for systemd (245.4-4ubuntu3.13) ...
Processing triggers for man-db (2.9.1-1) ...
Processing triggers for libc-bin (2.31-0ubuntu9.2) ...
root@ip-172-31-84-204:~# git clone https://github.com/navimaurya/pvbox.git
Cloning into 'pvbox'...
remote: Enumerating objects: 283, done.
remote: Counting objects: 100% (283/283), done.
remote: Compressing objects: 100% (236/236), done.
remote: Total 283 (delta 18), reused 283 (delta 18), pack-reused 0
Receiving objects: 100% (283/283), 2.87 MiB | 14.49 MiB/s, done.
Resolving deltas: 100% (18/18), done.
root@ip-172-31-84-204:~# ls
pvbox  snap
root@ip-172-31-84-204:~# cd pvbox/
root@ip-172-31-84-204:~/pvbox# ls
README.md  controller  messageApp.js  package-lock.json  postcss.config.js  public  supports  views
client     index.js    models         package.json       prismthemes.com    router  utils
root@ip-172-31-84-204:~/pvbox# node -v
v12.22.9
root@ip-172-31-84-204:~/pvbox# npm -v
6.14.15
root@ip-172-31-84-204:~/pvbox# nano package.json
root@ip-172-31-84-204:~/pvbox# sudo npm cache clean -f
npm WARN using --force I sure hope you know what you are doing.
root@ip-172-31-84-204:~/pvbox# sudo npm install -g n
/usr/bin/n -> /usr/lib/node_modules/n/bin/n
+ n@8.0.2
added 1 package from 2 contributors in 0.617s
root@ip-172-31-84-204:~/pvbox# sudo n stable
  installing : node-v16.13.2
       mkdir : /usr/local/n/versions/node/16.13.2
       fetch : https://nodejs.org/dist/v16.13.2/node-v16.13.2-linux-x64.tar.xz
   installed : v16.13.2 (with npm 8.1.2)

Note: the node command changed location and the old location may be remembered in your current shell.
         old : /usr/bin/node
         new : /usr/local/bin/node
If "node --version" shows the old version then start a new shell, or reset the location hash with:
hash -r  (for bash, zsh, ash, dash, and ksh)
rehash   (for csh and tcsh)
root@ip-172-31-84-204:~/pvbox# node -v
v12.22.9
root@ip-172-31-84-204:~/pvbox# curl -sL https://deb.nodesource.com/setup_16.x | sudo -E bash -

## Installing the NodeSource Node.js 16.x repo...


## Populating apt-get cache...

+ apt-get update
Hit:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal InRelease
Hit:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates InRelease
Hit:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports InRelease
Get:4 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]
Hit:5 https://deb.nodesource.com/node_12.x focal InRelease
Fetched 114 kB in 0s (253 kB/s)
Reading package lists... Done

## Confirming "focal" is supported...

+ curl -sLf -o /dev/null 'https://deb.nodesource.com/node_16.x/dists/focal/Release'

## Adding the NodeSource signing key to your keyring...

+ curl -s https://deb.nodesource.com/gpgkey/nodesource.gpg.key | gpg --dearmor | tee /usr/share/keyrings/nodesource.gpg >/dev/null
## Running `apt-get update` for you...

+ apt-get update
Hit:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal InRelease
Hit:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates InRelease
Hit:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports InRelease
Get:4 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]
Get:5 https://deb.nodesource.com/node_16.x focal InRelease [4583 B]
Get:6 https://deb.nodesource.com/node_16.x focal/main amd64 Packages [768 B]
Fetched 119 kB in 0s (273 kB/s)
Reading package lists... Done

## Run `sudo apt-get install -y nodejs` to install Node.js 16.x and npm
## You may also need development tools to build native addons:
     sudo apt-get install gcc g++ make
## To install the Yarn package manager, run:
     curl -sL https://dl.yarnpkg.com/debian/pubkey.gpg | gpg --dearmor | sudo tee /usr/share/keyrings/yarnkey.gpg >/dev/null
     echo "deb [signed-by=/usr/share/keyrings/yarnkey.gpg] https://dl.yarnpkg.com/debian stable main" | sudo tee /etc/apt/sources.list.d/yarn.list
     sudo apt-get update && sudo apt-get install yarn


root@ip-172-31-84-204:~/pvbox# apt install nodejs
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following packages will be upgraded:
  nodejs
1 upgraded, 0 newly installed, 0 to remove and 37 not upgraded.
Need to get 25.8 MB of archives.
After this operation, 26.3 MB of additional disk space will be used.
Get:1 https://deb.nodesource.com/node_16.x focal/main amd64 nodejs amd64 16.13.2-deb-1nodesource1 [25.8 MB]
Fetched 25.8 MB in 1s (33.2 MB/s)
(Reading database ... 69018 files and directories currently installed.)
Preparing to unpack .../nodejs_16.13.2-deb-1nodesource1_amd64.deb ...
Unpacking nodejs (16.13.2-deb-1nodesource1) over (12.22.9-deb-1nodesource1) ...
Setting up nodejs (16.13.2-deb-1nodesource1) ...
Processing triggers for man-db (2.9.1-1) ...
root@ip-172-31-84-204:~/pvbox# node -v
v16.13.2
root@ip-172-31-84-204:~/pvbox# npm -v
8.1.2

root@ip-172-31-84-204:~/pvbox# npm i npm -g

removed 8 packages, changed 41 packages, and audited 215 packages in 3s

11 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
npm notice
npm notice New minor version of npm available! 8.1.2 -> 8.3.2
npm notice Changelog: https://github.com/npm/cli/releases/tag/v8.3.2
npm notice Run npm install -g npm@8.3.2 to update!
npm notice
root@ip-172-31-84-204:~/pvbox# npm -v
8.1.2
root@ip-172-31-84-204:~/pvbox# npm install -g npm@8.3.2

changed 14 packages, and audited 215 packages in 3s

11 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
root@ip-172-31-84-204:~/pvbox# npm -v
8.1.2
root@ip-172-31-84-204:~/pvbox# ls
README.md  controller  messageApp.js  package-lock.json  postcss.config.js  public  supports  views
client     index.js    models         package.json       prismthemes.com    router  utils
root@ip-172-31-84-204:~/pvbox# nano package.json
root@ip-172-31-84-204:~/pvbox# node index.js
node:internal/modules/cjs/loader:936
  throw err;
  ^

Error: Cannot find module 'express'
Require stack:
- /root/pvbox/index.js
    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:933:15)
    at Function.Module._load (node:internal/modules/cjs/loader:778:27)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/root/pvbox/index.js:1:17)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [ '/root/pvbox/index.js' ]
}
root@ip-172-31-84-204:~/pvbox# npm i
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'nmessage@0.0.1',
npm WARN EBADENGINE   required: { node: '16.13.1', npm: '8.2.*' },
npm WARN EBADENGINE   current: { node: 'v16.13.2', npm: '8.1.2' }
npm WARN EBADENGINE }



added 277 packages, and audited 278 packages in 10s

18 packages are looking for funding
  run `npm fund` for details

4 vulnerabilities (1 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
root@ip-172-31-84-204:~/pvbox# node index.js

MongooseError: The `uri` parameter to `openUri()` must be a string, got "undefined". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.
    at NativeConnection.Connection.openUri (/root/pvbox/node_modules/mongoose/lib/connection.js:694:11)
    at /root/pvbox/node_modules/mongoose/lib/index.js:351:10
    at /root/pvbox/node_modules/mongoose/lib/helpers/promiseOrCallback.js:32:5
    at new Promise (<anonymous>)
    at promiseOrCallback (/root/pvbox/node_modules/mongoose/lib/helpers/promiseOrCallback.js:31:10)
    at Mongoose._promiseOrCallback (/root/pvbox/node_modules/mongoose/lib/index.js:1149:10)
    at Mongoose.connect (/root/pvbox/node_modules/mongoose/lib/index.js:350:20)
    at Object.exports.database (/root/pvbox/supports/database.js:8:36)
    at Object.<anonymous> (/root/pvbox/index.js:27:32)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)
    at node:internal/main/run_main_module:17:47
Database connection failed!
Server is started! in undefined
link is http://localhost:5000
^[[A^[[A^[[A^X^C
root@ip-172-31-84-204:~/pvbox# nano package.json
root@ip-172-31-84-204:~/pvbox# nano config.env
root@ip-172-31-84-204:~/pvbox# npm i

up to date, audited 278 packages in 1s

18 packages are looking for funding
  run `npm fund` for details

4 vulnerabilities (1 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
root@ip-172-31-84-204:~/pvbox# node index.js
Server is started! in development
link is http://localhost:5000
DB connection successful!

^C
root@ip-172-31-84-204:~/pvbox# cd ../
root@ip-172-31-84-204:~# cd /etc/
root@ip-172-31-84-204:/etc# ls
NetworkManager                 cron.weekly           gshadow-             locale.alias    networkd-dispatcher      rc3.d         sysctl.conf
PackageKit                     crontab               gss                  locale.gen      networks                 rc4.d         sysctl.d
X11                            cryptsetup-initramfs  hdparm.conf          localtime       newt                     rc5.d         systemd
acpi                           crypttab              hibagent-config.cfg  logcheck        nginx                    rc6.d         terminfo
adduser.conf                   dbus-1                hibinit-config.cfg   login.defs      nsswitch.conf            rcS.d         timezone
alternatives                   dconf                 host.conf            logrotate.conf  opt                      resolv.conf   tmpfiles.d
apparmor                       debconf.conf          hostname             logrotate.d     os-release               rmt           ubuntu-advantage
apparmor.d                     debian_version        hosts                lsb-release     overlayroot.conf         rpc           ucf.conf
apport                         default               hosts.allow          ltrace.conf     overlayroot.local.conf   rsyslog.conf  udev
apt                            deluser.conf          hosts.deny           lvm             pam.conf                 rsyslog.d     udisks2
at.deny                        depmod.d              init.d               machine-id      pam.d                    screenrc      ufw
bash.bashrc                    dhcp                  initramfs-tools      magic           passwd                   security      update-manager
bash_completion                dpkg                  inputrc              magic.mime      passwd-                  selinux       update-motd.d
bash_completion.d              e2scrub.conf          iproute2             mailcap         perl                     services      update-notifier
bindresvport.blacklist         ec2_version           iscsi                mailcap.order   pki                      shadow        vim
binfmt.d                       environment           issue                manpath.config  pm                       shadow-       vmware-tools
byobu                          ethertypes            issue.net            mdadm           polkit-1                 shells        vtrgb
ca-certificates                fonts                 kernel               mime.types      pollinate                skel          wgetrc
ca-certificates.conf           fstab                 kernel-img.conf      mke2fs.conf     popularity-contest.conf  sos           xattr.conf
ca-certificates.conf.dpkg-old  fuse.conf             landscape            modprobe.d      profile                  ssh           xdg
calendar                       fwupd                 ld.so.cache          modules         profile.d                ssl           zsh_command_not_found
cloud                          gai.conf              ld.so.conf           modules-load.d  protocols                subgid
console-setup                  groff                 ld.so.conf.d         mtab            python3                  subgid-
cron.d                         group                 ldap                 multipath.conf  python3.8                subuid
cron.daily                     group-                legal                nanorc          rc0.d                    subuid-
cron.hourly                    grub.d                libaudit.conf        netplan         rc1.d                    sudoers
cron.monthly                   gshadow               libblockdev          network         rc2.d                    sudoers.d
root@ip-172-31-84-204:/etc# cd nginx/
root@ip-172-31-84-204:/etc/nginx# ls
conf.d        fastcgi_params  koi-win     modules-available  nginx.conf    scgi_params      sites-enabled  uwsgi_params
fastcgi.conf  koi-utf         mime.types  modules-enabled    proxy_params  sites-available  snippets       win-utf
root@ip-172-31-84-204:/etc/nginx# cd sites-available/
root@ip-172-31-84-204:/etc/nginx/sites-available# ls
default
root@ip-172-31-84-204:/etc/nginx/sites-available#  nano default
root@ip-172-31-84-204:/etc/nginx/sites-available# systemctl restart nginx
root@ip-172-31-84-204:/etc/nginx/sites-available#

--------------------
root@ip-172-31-84-204:/etc# cd nginx/
root@ip-172-31-84-204:/etc/nginx# ls
conf.d        fastcgi_params  koi-win     modules-available  nginx.conf    scgi_params      sites-enabled  uwsgi_params
fastcgi.conf  koi-utf         mime.types  modules-enabled    proxy_params  sites-available  snippets       win-utf
root@ip-172-31-84-204:/etc/nginx# cd sites-available/
root@ip-172-31-84-204:/etc/nginx/sites-available# ls
default
root@ip-172-31-84-204:/etc/nginx/sites-available#  nano default
root@ip-172-31-84-204:/etc/nginx/sites-available# systemctl restart nginx
root@ip-172-31-84-204:/etc/nginx/sites-available# cd ../../../
root@ip-172-31-84-204:/# ls
bin  boot  dev  etc  home  lib  lib32  lib64  libx32  lost+found  media  mnt  opt  proc  root  run  sbin  snap  srv  sys  tmp  usr  var
root@ip-172-31-84-204:/# cd `
> ^C
root@ip-172-31-84-204:/# cd ~
root@ip-172-31-84-204:~# ls
pvbox  snap
root@ip-172-31-84-204:~# cd pvbox/
root@ip-172-31-84-204:~/pvbox# node index.js
Server is started! in development
link is http://localhost:5000
DB connection successful!
^C
root@ip-172-31-84-204:~/pvbox# nano index.js
root@ip-172-31-84-204:~/pvbox# node index.js
Server is started! in development
link is http://localhost:8080
DB connection successful!
^C
root@ip-172-31-84-204:~/pvbox# nano index.js
root@ip-172-31-84-204:~/pvbox# node index.js
Server is started! in development
link is http://localhost:8080
DB connection successful!
AppError: You are not logge


------------------------------------------------------------------------------------
ubuntu@ip-172-31-84-204:~$ sudo su -
root@ip-172-31-84-204:~# curl -sL https://deb.nodesource.com/setup_12.x | sudo -E bash -

## Installing the NodeSource Node.js 12.x repo...


## Populating apt-get cache...

+ apt-get update
Hit:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal InRelease
Get:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]
Get:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports InRelease [108 kB]
Get:4 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/universe amd64 Packages [8628 kB]
Get:5 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]
Get:6 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/universe Translation-en [5124 kB]
Get:7 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/universe amd64 c-n-f Metadata [265 kB]
Get:8 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/multiverse amd64 Packages [144 kB]
Get:9 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/multiverse Translation-en [104 kB]
Get:10 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/multiverse amd64 c-n-f Metadata [9136 B]
Get:11 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 Packages [1510 kB]
Get:12 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main Translation-en [296 kB]
Get:13 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 c-n-f Metadata [14.7 kB]
Get:14 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/restricted amd64 Packages [736 kB]
Get:15 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/restricted Translation-en [105 kB]
Get:16 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/restricted amd64 c-n-f Metadata [532 B]
Get:17 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/universe amd64 Packages [894 kB]
Get:18 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/universe Translation-en [196 kB]
Get:19 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/universe amd64 c-n-f Metadata [20.0 kB]
Get:20 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/multiverse amd64 Packages [24.8 kB]
Get:21 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/multiverse Translation-en [6928 B]
Get:22 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/multiverse amd64 c-n-f Metadata [620 B]
Get:23 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/main amd64 Packages [42.0 kB]
Get:24 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/main Translation-en [10.0 kB]
Get:25 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/main amd64 c-n-f Metadata [864 B]
Get:26 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/restricted amd64 c-n-f Metadata [116 B]
Get:27 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/universe amd64 Packages [19.5 kB]
Get:28 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/universe Translation-en [13.4 kB]
Get:29 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/universe amd64 c-n-f Metadata [672 B]
Get:30 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/multiverse amd64 c-n-f Metadata [116 B]
Get:31 http://security.ubuntu.com/ubuntu focal-security/main amd64 Packages [1178 kB]
Get:32 http://security.ubuntu.com/ubuntu focal-security/main Translation-en [210 kB]
Get:33 http://security.ubuntu.com/ubuntu focal-security/main amd64 c-n-f Metadata [9132 B]
Get:34 http://security.ubuntu.com/ubuntu focal-security/restricted amd64 Packages [686 kB]
Get:35 http://security.ubuntu.com/ubuntu focal-security/restricted Translation-en [97.9 kB]
Get:36 http://security.ubuntu.com/ubuntu focal-security/restricted amd64 c-n-f Metadata [536 B]
Get:37 http://security.ubuntu.com/ubuntu focal-security/universe amd64 Packages [677 kB]
Get:38 http://security.ubuntu.com/ubuntu focal-security/universe Translation-en [115 kB]
Get:39 http://security.ubuntu.com/ubuntu focal-security/universe amd64 c-n-f Metadata [13.0 kB]
Get:40 http://security.ubuntu.com/ubuntu focal-security/multiverse amd64 Packages [21.8 kB]
Get:41 http://security.ubuntu.com/ubuntu focal-security/multiverse Translation-en [4948 B]
Get:42 http://security.ubuntu.com/ubuntu focal-security/multiverse amd64 c-n-f Metadata [536 B]
Fetched 21.5 MB in 4s (5650 kB/s)
Reading package lists... Done

## Confirming "focal" is supported...

+ curl -sLf -o /dev/null 'https://deb.nodesource.com/node_12.x/dists/focal/Release'

## Adding the NodeSource signing key to your keyring...

+ curl -s https://deb.nodesource.com/gpgkey/nodesource.gpg.key | gpg --dearmor | tee /usr/share/keyrings/nodesource.gpg >/dev/null

## Creating apt sources list file for the NodeSource Node.js 12.x repo...

+ echo 'deb [signed-by=/usr/share/keyrings/nodesource.gpg] https://deb.nodesource.com/node_12.x focal main' > /etc/apt/sources.list.d/nodesource.list
+ echo 'deb-src [signed-by=/usr/share/keyrings/nodesource.gpg] https://deb.nodesource.com/node_12.x focal main' >> /etc/apt/sources.list.d/nodesource.list

Hit:5 http://security.ubuntu.com/ubuntu focal-security InRelease
Get:6 https://deb.nodesource.com/node_12.x focal/main amd64 Packages [769 B]
Fetched 5352 B in 0s (12.1 kB/s)
Reading package lists... Done

## Run `sudo apt-get install -y nodejs` to install Node.js 12.x and npm
## You may also need development tools to build native addons:
     sudo apt-get install gcc g++ make
## To install the Yarn package manager, run:
     curl -sL https://dl.yarnpkg.com/debian/pubkey.gpg | gpg --dearmor | sudo tee /usr/share/keyrings/yarnkey.gpg >/dev/null
     echo "deb [signed-by=/usr/share/keyrings/yarnkey.gpg] https://dl.yarnpkg.com/debian stable main" | sudo tee /etc/apt/sources.list.d/yarn.list
     sudo apt-get update && sudo apt-get install yarn


root@ip-172-31-84-204:~# node -v

Command 'node' not found, but can be installed with:

apt install nodejs

root@ip-172-31-84-204:~# apt install nodejs
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following NEW packages will be installed:
  nodejs
0 upgraded, 1 newly installed, 0 to remove and 37 not upgraded.
Need to get 18.1 MB of archives.
After this operation, 93.7 MB of additional disk space will be used.
Get:1 https://deb.nodesource.com/node_12.x focal/main amd64 nodejs amd64 12.22.9-deb-1nodesource1 [18.1 MB]
Fetched 18.1 MB in 1s (34.8 MB/s)
Selecting previously unselected package nodejs.
(Reading database ... 63895 files and directories currently installed.)
Preparing to unpack .../nodejs_12.22.9-deb-1nodesource1_amd64.deb ...
Unpacking nodejs (12.22.9-deb-1nodesource1) ...
Setting up nodejs (12.22.9-deb-1nodesource1) ...
Processing triggers for man-db (2.9.1-1) ...
root@ip-172-31-84-204:~# node -v
v12.22.9
root@ip-172-31-84-204:~# npm -v
6.14.15
root@ip-172-31-84-204:~# apt-get update
Hit:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal InRelease
Hit:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates InRelease
Hit:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports InRelease
Hit:4 https://deb.nodesource.com/node_12.x focal InRelease
Get:5 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]
Fetched 114 kB in 0s (228 kB/s)
Reading package lists... Done
root@ip-172-31-84-204:~# apt-get install nginx
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following additional packages will be installed:
  fontconfig-config fonts-dejavu-core libfontconfig1 libgd3 libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter
  libnginx-mod-mail libnginx-mod-stream libtiff5 libwebp6 libxpm4 nginx-common nginx-core
Suggested packages:
  libgd-tools fcgiwrap nginx-doc ssl-cert
The following NEW packages will be installed:
  fontconfig-config fonts-dejavu-core libfontconfig1 libgd3 libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter
  libnginx-mod-mail libnginx-mod-stream libtiff5 libwebp6 libxpm4 nginx nginx-common nginx-core
0 upgraded, 17 newly installed, 0 to remove and 37 not upgraded.
Need to get 2432 kB of archives.
After this operation, 7891 kB of additional disk space will be used.
Do you want to continue? [Y/n] y
Get:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/main amd64 fonts-dejavu-core all 2.37-1 [1041 kB]
Get:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/main amd64 fontconfig-config all 2.13.1-2ubuntu3 [28.8 kB]
Get:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/main amd64 libfontconfig1 amd64 2.13.1-2ubuntu3 [114 kB]
Get:4 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 libjpeg-turbo8 amd64 2.0.3-0ubuntu1.20.04.1 [117 kB]
Get:5 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/main amd64 libjpeg8 amd64 8c-2ubuntu8 [2194 B]
Get:6 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/main amd64 libjbig0 amd64 2.1-3.1build1 [26.7 kB]
Get:7 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 libwebp6 amd64 0.6.1-2ubuntu0.20.04.1 [185 kB]
Get:8 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 libtiff5 amd64 4.1.0+git191117-2ubuntu0.20.04.2 [162 kB]
Get:9 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/main amd64 libxpm4 amd64 1:3.5.12-1 [34.0 kB]
Get:10 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 libgd3 amd64 2.2.5-5.2ubuntu2.1 [118 kB]
Get:11 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 nginx-common all 1.18.0-0ubuntu1.2 [37.5 kB]
Get:12 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 libnginx-mod-http-image-filter amd64 1.18.0-0ubuntu1.2 [14.4 kB]
Get:13 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 libnginx-mod-http-xslt-filter amd64 1.18.0-0ubuntu1.2 [12.7 kB]
Get:14 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 libnginx-mod-mail amd64 1.18.0-0ubuntu1.2 [42.5 kB]
Get:15 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 libnginx-mod-stream amd64 1.18.0-0ubuntu1.2 [67.3 kB]
Get:16 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 nginx-core amd64 1.18.0-0ubuntu1.2 [425 kB]
Get:17 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 nginx all 1.18.0-0ubuntu1.2 [3620 B]
Fetched 2432 kB in 0s (28.7 MB/s)
Preconfiguring packages ...
Selecting previously unselected package fonts-dejavu-core.
(Reading database ... 68791 files and directories currently installed.)
Preparing to unpack .../00-fonts-dejavu-core_2.37-1_all.deb ...
Unpacking fonts-dejavu-core (2.37-1) ...
Selecting previously unselected package fontconfig-config.
Preparing to unpack .../01-fontconfig-config_2.13.1-2ubuntu3_all.deb ...
Unpacking fontconfig-config (2.13.1-2ubuntu3) ...
Selecting previously unselected package libfontconfig1:amd64.
Preparing to unpack .../02-libfontconfig1_2.13.1-2ubuntu3_amd64.deb ...
Unpacking libfontconfig1:amd64 (2.13.1-2ubuntu3) ...
Selecting previously unselected package libjpeg-turbo8:amd64.
Preparing to unpack .../03-libjpeg-turbo8_2.0.3-0ubuntu1.20.04.1_amd64.deb ...
Unpacking libjpeg-turbo8:amd64 (2.0.3-0ubuntu1.20.04.1) ...
Selecting previously unselected package libjpeg8:amd64.
Preparing to unpack .../04-libjpeg8_8c-2ubuntu8_amd64.deb ...
Unpacking libjpeg8:amd64 (8c-2ubuntu8) ...
Selecting previously unselected package libjbig0:amd64.
Preparing to unpack .../05-libjbig0_2.1-3.1build1_amd64.deb ...
Unpacking libjbig0:amd64 (2.1-3.1build1) ...
Selecting previously unselected package libwebp6:amd64.
Preparing to unpack .../06-libwebp6_0.6.1-2ubuntu0.20.04.1_amd64.deb ...
Unpacking libwebp6:amd64 (0.6.1-2ubuntu0.20.04.1) ...
Selecting previously unselected package libtiff5:amd64.
Preparing to unpack .../07-libtiff5_4.1.0+git191117-2ubuntu0.20.04.2_amd64.deb ...
Unpacking libtiff5:amd64 (4.1.0+git191117-2ubuntu0.20.04.2) ...
Selecting previously unselected package libxpm4:amd64.
Preparing to unpack .../08-libxpm4_1%3a3.5.12-1_amd64.deb ...
Unpacking libxpm4:amd64 (1:3.5.12-1) ...
Selecting previously unselected package libgd3:amd64.
Preparing to unpack .../09-libgd3_2.2.5-5.2ubuntu2.1_amd64.deb ...
Unpacking libgd3:amd64 (2.2.5-5.2ubuntu2.1) ...
Selecting previously unselected package nginx-common.
Preparing to unpack .../10-nginx-common_1.18.0-0ubuntu1.2_all.deb ...
Unpacking nginx-common (1.18.0-0ubuntu1.2) ...
Selecting previously unselected package libnginx-mod-http-image-filter.
Preparing to unpack .../11-libnginx-mod-http-image-filter_1.18.0-0ubuntu1.2_amd64.deb ...
Unpacking libnginx-mod-http-image-filter (1.18.0-0ubuntu1.2) ...
Selecting previously unselected package libnginx-mod-http-xslt-filter.
Preparing to unpack .../12-libnginx-mod-http-xslt-filter_1.18.0-0ubuntu1.2_amd64.deb ...
Unpacking libnginx-mod-http-xslt-filter (1.18.0-0ubuntu1.2) ...
Selecting previously unselected package libnginx-mod-mail.
Preparing to unpack .../13-libnginx-mod-mail_1.18.0-0ubuntu1.2_amd64.deb ...
Unpacking libnginx-mod-mail (1.18.0-0ubuntu1.2) ...
Selecting previously unselected package libnginx-mod-stream.
Preparing to unpack .../14-libnginx-mod-stream_1.18.0-0ubuntu1.2_amd64.deb ...
Unpacking libnginx-mod-stream (1.18.0-0ubuntu1.2) ...
Selecting previously unselected package nginx-core.
Preparing to unpack .../15-nginx-core_1.18.0-0ubuntu1.2_amd64.deb ...
Unpacking nginx-core (1.18.0-0ubuntu1.2) ...
Selecting previously unselected package nginx.
Preparing to unpack .../16-nginx_1.18.0-0ubuntu1.2_all.deb ...
Unpacking nginx (1.18.0-0ubuntu1.2) ...
Setting up libxpm4:amd64 (1:3.5.12-1) ...
Setting up nginx-common (1.18.0-0ubuntu1.2) ...






































                                                                     [ Read 40 lines ]
Created symlink /etc/systemd/system/multi-user.target.wants/nginx.service → /lib/systemd/system/nginx.service.
Setting up libjbig0:amd64 (2.1-3.1build1) ...
Setting up libnginx-mod-http-xslt-filter (1.18.0-0ubuntu1.2) ...
Setting up libwebp6:amd64 (0.6.1-2ubuntu0.20.04.1) ...
Setting up fonts-dejavu-core (2.37-1) ...
Setting up libjpeg-turbo8:amd64 (2.0.3-0ubuntu1.20.04.1) ...
Setting up libjpeg8:amd64 (8c-2ubuntu8) ...
Setting up libnginx-mod-mail (1.18.0-0ubuntu1.2) ...
Setting up fontconfig-config (2.13.1-2ubuntu3) ...
Setting up libnginx-mod-stream (1.18.0-0ubuntu1.2) ...
Setting up libtiff5:amd64 (4.1.0+git191117-2ubuntu0.20.04.2) ...
Setting up libfontconfig1:amd64 (2.13.1-2ubuntu3) ...
Setting up libgd3:amd64 (2.2.5-5.2ubuntu2.1) ...
Setting up libnginx-mod-http-image-filter (1.18.0-0ubuntu1.2) ...
Setting up nginx-core (1.18.0-0ubuntu1.2) ...
Setting up nginx (1.18.0-0ubuntu1.2) ...
Processing triggers for ufw (0.36-6ubuntu1) ...
Processing triggers for systemd (245.4-4ubuntu3.13) ...
Processing triggers for man-db (2.9.1-1) ...
Processing triggers for libc-bin (2.31-0ubuntu9.2) ...
root@ip-172-31-84-204:~# git clone https://github.com/navimaurya/pvbox.git
Cloning into 'pvbox'...
remote: Enumerating objects: 283, done.
remote: Counting objects: 100% (283/283), done.
remote: Compressing objects: 100% (236/236), done.
remote: Total 283 (delta 18), reused 283 (delta 18), pack-reused 0
Receiving objects: 100% (283/283), 2.87 MiB | 14.49 MiB/s, done.
Resolving deltas: 100% (18/18), done.
root@ip-172-31-84-204:~# ls
pvbox  snap
root@ip-172-31-84-204:~# cd pvbox/
root@ip-172-31-84-204:~/pvbox# ls
README.md  controller  messageApp.js  package-lock.json  postcss.config.js  public  supports  views
client     index.js    models         package.json       prismthemes.com    router  utils
root@ip-172-31-84-204:~/pvbox# node -v
v12.22.9
root@ip-172-31-84-204:~/pvbox# npm -v
6.14.15
root@ip-172-31-84-204:~/pvbox# nano package.json
root@ip-172-31-84-204:~/pvbox# sudo npm cache clean -f
npm WARN using --force I sure hope you know what you are doing.
root@ip-172-31-84-204:~/pvbox# sudo npm install -g n
/usr/bin/n -> /usr/lib/node_modules/n/bin/n
+ n@8.0.2
added 1 package from 2 contributors in 0.617s
root@ip-172-31-84-204:~/pvbox# sudo n stable
  installing : node-v16.13.2
       mkdir : /usr/local/n/versions/node/16.13.2
       fetch : https://nodejs.org/dist/v16.13.2/node-v16.13.2-linux-x64.tar.xz
   installed : v16.13.2 (with npm 8.1.2)

Note: the node command changed location and the old location may be remembered in your current shell.
         old : /usr/bin/node
         new : /usr/local/bin/node
If "node --version" shows the old version then start a new shell, or reset the location hash with:
hash -r  (for bash, zsh, ash, dash, and ksh)
rehash   (for csh and tcsh)
root@ip-172-31-84-204:~/pvbox# node -v
v12.22.9
root@ip-172-31-84-204:~/pvbox# curl -sL https://deb.nodesource.com/setup_16.x | sudo -E bash -

## Installing the NodeSource Node.js 16.x repo...


## Populating apt-get cache...

+ apt-get update
Hit:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal InRelease
Hit:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates InRelease
Hit:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports InRelease
Get:4 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]
Hit:5 https://deb.nodesource.com/node_12.x focal InRelease
Fetched 114 kB in 0s (253 kB/s)
Reading package lists... Done

## Confirming "focal" is supported...

+ curl -sLf -o /dev/null 'https://deb.nodesource.com/node_16.x/dists/focal/Release'

## Adding the NodeSource signing key to your keyring...

+ curl -s https://deb.nodesource.com/gpgkey/nodesource.gpg.key | gpg --dearmor | tee /usr/share/keyrings/nodesource.gpg >/dev/null
## Running `apt-get update` for you...

+ apt-get update
Hit:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal InRelease
Hit:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates InRelease
Hit:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports InRelease
Get:4 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]
Get:5 https://deb.nodesource.com/node_16.x focal InRelease [4583 B]
Get:6 https://deb.nodesource.com/node_16.x focal/main amd64 Packages [768 B]
Fetched 119 kB in 0s (273 kB/s)
Reading package lists... Done

## Run `sudo apt-get install -y nodejs` to install Node.js 16.x and npm
## You may also need development tools to build native addons:
     sudo apt-get install gcc g++ make
## To install the Yarn package manager, run:
     curl -sL https://dl.yarnpkg.com/debian/pubkey.gpg | gpg --dearmor | sudo tee /usr/share/keyrings/yarnkey.gpg >/dev/null
     echo "deb [signed-by=/usr/share/keyrings/yarnkey.gpg] https://dl.yarnpkg.com/debian stable main" | sudo tee /etc/apt/sources.list.d/yarn.list
     sudo apt-get update && sudo apt-get install yarn


root@ip-172-31-84-204:~/pvbox# apt install nodejs
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following packages will be upgraded:
  nodejs
1 upgraded, 0 newly installed, 0 to remove and 37 not upgraded.
Need to get 25.8 MB of archives.
After this operation, 26.3 MB of additional disk space will be used.
Get:1 https://deb.nodesource.com/node_16.x focal/main amd64 nodejs amd64 16.13.2-deb-1nodesource1 [25.8 MB]
Fetched 25.8 MB in 1s (33.2 MB/s)
(Reading database ... 69018 files and directories currently installed.)
Preparing to unpack .../nodejs_16.13.2-deb-1nodesource1_amd64.deb ...
Unpacking nodejs (16.13.2-deb-1nodesource1) over (12.22.9-deb-1nodesource1) ...
Setting up nodejs (16.13.2-deb-1nodesource1) ...
Processing triggers for man-db (2.9.1-1) ...
root@ip-172-31-84-204:~/pvbox# node -v
v16.13.2
root@ip-172-31-84-204:~/pvbox# npm -v
8.1.2

root@ip-172-31-84-204:~/pvbox# npm i npm -g

removed 8 packages, changed 41 packages, and audited 215 packages in 3s

11 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
npm notice
npm notice New minor version of npm available! 8.1.2 -> 8.3.2
npm notice Changelog: https://github.com/npm/cli/releases/tag/v8.3.2
npm notice Run npm install -g npm@8.3.2 to update!
npm notice
root@ip-172-31-84-204:~/pvbox# npm -v
8.1.2
root@ip-172-31-84-204:~/pvbox# npm install -g npm@8.3.2

changed 14 packages, and audited 215 packages in 3s

11 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
root@ip-172-31-84-204:~/pvbox# npm -v
8.1.2
root@ip-172-31-84-204:~/pvbox# ls
README.md  controller  messageApp.js  package-lock.json  postcss.config.js  public  supports  views
client     index.js    models         package.json       prismthemes.com    router  utils
root@ip-172-31-84-204:~/pvbox# nano package.json
root@ip-172-31-84-204:~/pvbox# node index.js
node:internal/modules/cjs/loader:936
  throw err;
  ^

Error: Cannot find module 'express'
Require stack:
- /root/pvbox/index.js
    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:933:15)
    at Function.Module._load (node:internal/modules/cjs/loader:778:27)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/root/pvbox/index.js:1:17)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [ '/root/pvbox/index.js' ]
}
root@ip-172-31-84-204:~/pvbox# npm i
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'nmessage@0.0.1',
npm WARN EBADENGINE   required: { node: '16.13.1', npm: '8.2.*' },
npm WARN EBADENGINE   current: { node: 'v16.13.2', npm: '8.1.2' }
npm WARN EBADENGINE }



added 277 packages, and audited 278 packages in 10s

18 packages are looking for funding
  run `npm fund` for details

4 vulnerabilities (1 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
root@ip-172-31-84-204:~/pvbox# node index.js

MongooseError: The `uri` parameter to `openUri()` must be a string, got "undefined". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.
    at NativeConnection.Connection.openUri (/root/pvbox/node_modules/mongoose/lib/connection.js:694:11)
    at /root/pvbox/node_modules/mongoose/lib/index.js:351:10
    at /root/pvbox/node_modules/mongoose/lib/helpers/promiseOrCallback.js:32:5
    at new Promise (<anonymous>)
    at promiseOrCallback (/root/pvbox/node_modules/mongoose/lib/helpers/promiseOrCallback.js:31:10)
    at Mongoose._promiseOrCallback (/root/pvbox/node_modules/mongoose/lib/index.js:1149:10)
    at Mongoose.connect (/root/pvbox/node_modules/mongoose/lib/index.js:350:20)
    at Object.exports.database (/root/pvbox/supports/database.js:8:36)
    at Object.<anonymous> (/root/pvbox/index.js:27:32)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)
    at node:internal/main/run_main_module:17:47
Database connection failed!
Server is started! in undefined
link is http://localhost:5000
^[[A^[[A^[[A^X^C
root@ip-172-31-84-204:~/pvbox# nano package.json
root@ip-172-31-84-204:~/pvbox# nano config.env
root@ip-172-31-84-204:~/pvbox# npm i

up to date, audited 278 packages in 1s

18 packages are looking for funding
  run `npm fund` for details

4 vulnerabilities (1 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
root@ip-172-31-84-204:~/pvbox# node index.js
Server is started! in development
link is http://localhost:5000
DB connection successful!

^C
root@ip-172-31-84-204:~/pvbox# cd ../
root@ip-172-31-84-204:~# cd /etc/
root@ip-172-31-84-204:/etc# ls
NetworkManager                 cron.weekly           gshadow-             locale.alias    networkd-dispatcher      rc3.d         sysctl.conf
PackageKit                     crontab               gss                  locale.gen      networks                 rc4.d         sysctl.d
X11                            cryptsetup-initramfs  hdparm.conf          localtime       newt                     rc5.d         systemd
acpi                           crypttab              hibagent-config.cfg  logcheck        nginx                    rc6.d         terminfo
adduser.conf                   dbus-1                hibinit-config.cfg   login.defs      nsswitch.conf            rcS.d         timezone
alternatives                   dconf                 host.conf            logrotate.conf  opt                      resolv.conf   tmpfiles.d
apparmor                       debconf.conf          hostname             logrotate.d     os-release               rmt           ubuntu-advantage
apparmor.d                     debian_version        hosts                lsb-release     overlayroot.conf         rpc           ucf.conf
apport                         default               hosts.allow          ltrace.conf     overlayroot.local.conf   rsyslog.conf  udev
apt                            deluser.conf          hosts.deny           lvm             pam.conf                 rsyslog.d     udisks2
at.deny                        depmod.d              init.d               machine-id      pam.d                    screenrc      ufw
bash.bashrc                    dhcp                  initramfs-tools      magic           passwd                   security      update-manager

  GNU nano 4.8                                                              index.js                                                                        const express = require('express');
const path = require('path')
const http = require('http');
const bodyParser = require('body-parser');
const dotenv = require('dotenv');
const cors = require('cors')
require('path');

const AppError = require("./utils/appError");
const messageApp = require('./messageApp');
const mongoose = require('mongoose');

const app = express();
const server = http.createServer(app)
// const io = require('socket.io')(server, {
//     cors: {
//         origin: "http://*:*",
//         method: ['GET', 'POST']
//     }
// })
//Starting Express app


// Configuraton of environment
dotenv.config({ path: "./config.env" });
// DataBase configuration
require('./supports/database').database();
// const db = mongoose.connection;
// db.once('open', () => {
//     const message = db.collection('messages');
//     const changeStream = message.watch();
//     changeStream.on('change', (change) => {
//         console.log(change);
//     })
// })

                                                                     [ Read 95 lines ]
^G Get Help      ^O Write Out     ^W Where Is      ^K Cut Text      ^J Justify       ^C Cur Pos       M-U Undo         M-A Mark Text    M-] To Bracket
^X Exit          ^R Read File     ^\ Replace       ^U Paste Text    ^T To Spell      ^_ Go To Line    M-E Redo         M-6 Copy Text    ^Q Where Was        bash_completion                dpkg                  inputrc              magic.mime      passwd-                  selinux       update-motd.d
bash_completion.d              e2scrub.conf          iproute2             mailcap         perl                     services      update-notifier
bindresvport.blacklist         ec2_version           iscsi                mailcap.order   pki                      shadow        vim
binfmt.d                       environment           issue                manpath.config  pm                       shadow-       vmware-tools
byobu                          ethertypes            issue.net            mdadm           polkit-1                 shells        vtrgb
ca-certificates                fonts                 kernel               mime.types      pollinate                skel          wgetrc

ca-certificates.conf           fstab                 kernel-img.conf      mke2fs.conf     popularity-contest.conf  sos           xattr.conf
ca-certificates.conf.dpkg-old  fuse.conf             landscape            modprobe.d      profile                  ssh           xdg
calendar                       fwupd                 ld.so.cache          modules         profile.d                ssl           zsh_command_not_found
cloud                          gai.conf              ld.so.conf           modules-load.d  protocols                subgid
console-setup                  groff                 ld.so.conf.d         mtab            python3                  subgid-
cron.d                         group                 ldap                 multipath.conf  python3.8                subuid
cron.daily                     group-                legal                nanorc          rc0.d                    subuid-
cron.hourly                    grub.d                libaudit.conf        netplan         rc1.d                    sudoers
cron.monthly                   gshadow               libblockdev          network         rc2.d                    sudoers.d
root@ip-172-31-84-204:/etc# cd nginx/
root@ip-172-31-84-204:/etc/nginx# ls
conf.d        fastcgi_params  koi-win     modules-available  nginx.conf    scgi_params      sites-enabled  uwsgi_params
fastcgi.conf  koi-utf         mime.types  modules-enabled    proxy_params  sites-available  snippets       win-utf
root@ip-172-31-84-204:/etc/nginx# cd sites-available/
root@ip-172-31-84-204:/etc/nginx/sites-available# ls
default
root@ip-172-31-84-204:/etc/nginx/sites-available#  nano default
root@ip-172-31-84-204:/etc/nginx/sites-available# systemctl restart nginx
root@ip-172-31-84-204:/etc/nginx/sites-available# cd ../../../
root@ip-172-31-84-204:/# ls
bin  boot  dev  etc  home  lib  lib32  lib64  libx32  lost+found  media  mnt  opt  proc  root  run  sbin  snap  srv  sys  tmp  usr  var
root@ip-172-31-84-204:/# cd `
> ^C
root@ip-172-31-84-204:/# cd ~
root@ip-172-31-84-204:~# ls
pvbox  snap
root@ip-172-31-84-204:~# cd pvbox/
root@ip-172-31-84-204:~/pvbox# node index.js
Server is started! in development
link is http://localhost:5000
DB connection successful!
^C
root@ip-172-31-84-204:~/pvbox# nano index.js
root@ip-172-31-84-204:~/pvbox# node index.js
Server is started! in development
link is http://localhost:8080
DB connection successful!
^C
root@ip-172-31-84-204:~/pvbox# nano index.js
root@ip-172-31-84-204:~/pvbox# node index.js
Server is started! in development
link is http://localhost:8080
DB connection successful!
AppError: You are not logged in!
    at exports.getLoggedInUser (/root/pvbox/controller/authController.js:240:25)
    at Layer.handle [as handle_request] (/root/pvbox/node_modules/express/lib/router/layer.js:95:5)
    at next (/root/pvbox/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/root/pvbox/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/root/pvbox/node_modules/express/lib/router/layer.js:95:5)
    at /root/pvbox/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/root/pvbox/node_modules/express/lib/router/index.js:335:12)
    at next (/root/pvbox/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/root/pvbox/node_modules/express/lib/router/index.js:174:3)
    at router (/root/pvbox/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/root/pvbox/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/root/pvbox/node_modules/express/lib/router/index.js:317:13)
    at /root/pvbox/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/root/pvbox/node_modules/express/lib/router/index.js:335:12)
    at next (/root/pvbox/node_modules/express/lib/router/index.js:275:10)
    at expressInit (/root/pvbox/node_modules/express/lib/middleware/init.js:40:5) {
  statusCode: 401,
  status: 'Fail',
  isOperational: true
}
^C
root@ip-172-31-84-204:~/pvbox# node index.js
Server is started! in development
link is http://localhost:8080
DB connection successful!
AppError: You are not logged in!
    at exports.getLoggedInUser (/root/pvbox/controller/authController.js:240:25)
    at Layer.handle [as handle_request] (/root/pvbox/node_modules/express/lib/router/layer.js:95:5)
    at next (/root/pvbox/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/root/pvbox/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/root/pvbox/node_modules/express/lib/router/layer.js:95:5)
    at /root/pvbox/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/root/pvbox/node_modules/express/lib/router/index.js:335:12)
    at next (/root/pvbox/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/root/pvbox/node_modules/express/lib/router/index.js:174:3)
    at router (/root/pvbox/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/root/pvbox/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/root/pvbox/node_modules/express/lib/router/index.js:317:13)
    at /root/pvbox/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/root/pvbox/node_modules/express/lib/router/index.js:335:12)
    at next (/root/pvbox/node_modules/express/lib/router/index.js:275:10)
    at expressInit (/root/pvbox/node_modules/express/lib/middleware/init.js:40:5) {
  statusCode: 401,
  status: 'Fail',
  isOperational: true
}
client_loop: send disconnect: Connection reset

C:\Users\Navneet Maurya\Documents>ssh -i "pvbox.pem" ubuntu@ec2-44-202-107-202.compute-1.amazonaws.com
Welcome to Ubuntu 20.04.3 LTS (GNU/Linux 5.11.0-1022-aws x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

  System information as of Sat Jan 22 07:51:04 UTC 2022

  System load:  0.0               Processes:             103
  Usage of /:   25.4% of 7.69GB   Users logged in:       0
  Memory usage: 23%               IPv4 address for eth0: 172.31.84.204
  Swap usage:   0%


41 updates can be applied immediately.
29 of these updates are standard security updates.
To see these additional updates run: apt list --upgradable


Last login: Sat Jan 22 06:58:17 2022 from 92.119.177.218
ubuntu@ip-172-31-84-204:~$ ls
ubuntu@ip-172-31-84-204:~$ sudo su ~
su: user /home/ubuntu does not exist
ubuntu@ip-172-31-84-204:~$ sudo su
root@ip-172-31-84-204:/home/ubuntu# cd ~
root@ip-172-31-84-204:~# ls
pvbox  snap
root@ip-172-31-84-204:~# cd ov
bash: cd: ov: No such file or directory
root@ip-172-31-84-204:~# cd pvbox/
root@ip-172-31-84-204:~/pvbox# node index.js
Server is started! in development
link is http://localhost:8080
DB connection successful!
AppError: You are not logged in!
    at exports.getLoggedInUser (/root/pvbox/controller/authController.js:240:25)
    at Layer.handle [as handle_request] (/root/pvbox/node_modules/express/lib/router/layer.js:95:5)
    at next (/root/pvbox/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/root/pvbox/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/root/pvbox/node_modules/express/lib/router/layer.js:95:5)
    at /root/pvbox/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/root/pvbox/node_modules/express/lib/router/index.js:335:12)
    at next (/root/pvbox/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/root/pvbox/node_modules/express/lib/router/index.js:174:3)
    at router (/root/pvbox/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/root/pvbox/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/root/pvbox/node_modules/express/lib/router/index.js:317:13)
    at /root/pvbox/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/root/pvbox/node_modules/express/lib/router/index.js:335:12)
    at next (/root/pvbox/node_modules/express/lib/router/index.js:275:10)
    at expressInit (/root/pvbox/node_modules/express/lib/middleware/init.js:40:5) {
  statusCode: 401,
  status: 'Fail',
  isOperational: true
}
^C
root@ip-172-31-84-204:~/pvbox# cd ../
root@ip-172-31-84-204:~# apt-get update
Hit:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal InRelease
Get:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]
Get:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports InRelease [108 kB]
Get:4 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]
Hit:5 https://deb.nodesource.com/node_16.x focal InRelease
Fetched 336 kB in 0s (767 kB/s)
Reading package lists... Done
root@ip-172-31-84-204:~# add-apt-repository ppa:certbot/certbot
 The PPA has been DEPRECATED.

To get up to date instructions on how to get certbot for your systems, please see https://certbot.eff.org/docs/install.html.
 More info: https://launchpad.net/~certbot/+archive/ubuntu/certbot
Press [ENTER] to continue or Ctrl-c to cancel adding it.

Hit:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal InRelease
Get:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]
Get:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports InRelease [108 kB]
Get:4 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]
Hit:5 https://deb.nodesource.com/node_16.x focal InRelease
Ign:6 http://ppa.launchpad.net/certbot/certbot/ubuntu focal InRelease
Err:7 http://ppa.launchpad.net/certbot/certbot/ubuntu focal Release
  404  Not Found [IP: 91.189.95.85 80]
Reading package lists... Done
E: The repository 'http://ppa.launchpad.net/certbot/certbot/ubuntu focal Release' does not have a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
N: See apt-secure(8) manpage for repository creation and user configuration details.
root@ip-172-31-84-204:~# apt-get update
Hit:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal InRelease
Get:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]
Get:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports InRelease [108 kB]
Get:4 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]
Hit:5 https://deb.nodesource.com/node_16.x focal InRelease
Ign:6 http://ppa.launchpad.net/certbot/certbot/ubuntu focal InRelease
Err:7 http://ppa.launchpad.net/certbot/certbot/ubuntu focal Release
  404  Not Found [IP: 91.189.95.85 80]
Reading package lists... Done
E: The repository 'http://ppa.launchpad.net/certbot/certbot/ubuntu focal Release' does not have a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
N: See apt-secure(8) manpage for repository creation and user configuration details.
root@ip-172-31-84-204:~# sudo apt-add-repository -r ppa:certbot/certbot
 The PPA has been DEPRECATED.

To get up to date instructions on how to get certbot for your systems, please see https://certbot.eff.org/docs/install.html.
 More info: https://launchpad.net/~certbot/+archive/ubuntu/certbot
Press [ENTER] to continue or Ctrl-c to cancel removing it.

root@ip-172-31-84-204:~# apt-get update
Hit:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal InRelease
Get:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]
Get:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports InRelease [108 kB]
Hit:4 https://deb.nodesource.com/node_16.x focal InRelease
Get:5 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]
Fetched 336 kB in 0s (697 kB/s)
Reading package lists... Done
root@ip-172-31-84-204:~# apt-get install certbot python-certbot-nginx
Reading package lists... Done
Building dependency tree
Reading state information... Done
Package python-certbot-nginx is not available, but is referred to by another package.
This may mean that the package is missing, has been obsoleted, or
is only available from another source
However the following packages replace it:
  python3-certbot-nginx

E: Package 'python-certbot-nginx' has no installation candidate
root@ip-172-31-84-204:~# apt-get install certbot python3-certbot-nginx
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following additional packages will be installed:
  python3-acme python3-certbot python3-configargparse python3-future python3-icu python3-josepy python3-mock python3-parsedatetime python3-pbr
  python3-pyparsing python3-requests-toolbelt python3-rfc3339 python3-tz python3-zope.component python3-zope.event python3-zope.hookable
Suggested packages:
  python3-certbot-apache python-certbot-doc python-acme-doc python-certbot-nginx-doc python-future-doc python-mock-doc python-pyparsing-doc
The following NEW packages will be installed:
  certbot python3-acme python3-certbot python3-certbot-nginx python3-configargparse python3-future python3-icu python3-josepy python3-mock
  python3-parsedatetime python3-pbr python3-pyparsing python3-requests-toolbelt python3-rfc3339 python3-tz python3-zope.component python3-zope.event
  python3-zope.hookable
0 upgraded, 18 newly installed, 0 to remove and 37 not upgraded.
Need to get 1264 kB of archives.
After this operation, 6657 kB of additional disk space will be used.
Do you want to continue? [Y/n] y
Get:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/universe amd64 python3-josepy all 1.2.0-2 [28.1 kB]
Get:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/main amd64 python3-pbr all 5.4.5-0ubuntu1 [64.0 kB]
Get:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/universe amd64 python3-mock all 3.0.5-1build1 [25.6 kB]
Get:4 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/universe amd64 python3-requests-toolbelt all 0.8.0-1.1 [35.2 kB]
Get:5 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/main amd64 python3-tz all 2019.3-1 [24.4 kB]
Get:6 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/main amd64 python3-rfc3339 all 1.1-2 [6808 B]
Get:7 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/universe amd64 python3-acme all 1.1.0-1 [29.6 kB]
Get:8 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/universe amd64 python3-configargparse all 0.13.0-2 [22.6 kB]
Get:9 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/main amd64 python3-future all 0.18.2-2 [336 kB]
Get:10 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/universe amd64 python3-parsedatetime all 2.4-5 [32.6 kB]
Get:11 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/universe amd64 python3-zope.hookable amd64 5.0.0-1build1 [11.2 kB]
Get:12 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/universe amd64 python3-zope.event all 4.4-2build1 [7704 B]
Get:13 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/universe amd64 python3-zope.component all 4.3.0-3 [38.3 kB]
Get:14 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/universe amd64 python3-certbot all 0.40.0-1ubuntu0.1 [223 kB]
Get:15 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/universe amd64 certbot all 0.40.0-1ubuntu0.1 [17.9 kB]
Get:16 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/main amd64 python3-pyparsing all 2.4.6-1 [61.3 kB]
Get:17 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/universe amd64 python3-certbot-nginx all 0.40.0-0ubuntu0.1 [50.8 kB]
Get:18 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/main amd64 python3-icu amd64 2.4.2-0ubuntu3 [250 kB]
Fetched 1264 kB in 0s (10.3 MB/s)
Selecting previously unselected package python3-josepy.
(Reading database ... 67255 files and directories currently installed.)
Preparing to unpack .../00-python3-josepy_1.2.0-2_all.deb ...
Unpacking python3-josepy (1.2.0-2) ...
Selecting previously unselected package python3-pbr.
Preparing to unpack .../01-python3-pbr_5.4.5-0ubuntu1_all.deb ...
Unpacking python3-pbr (5.4.5-0ubuntu1) ...
Selecting previously unselected package python3-mock.
Preparing to unpack .../02-python3-mock_3.0.5-1build1_all.deb ...
Unpacking python3-mock (3.0.5-1build1) ...
Selecting previously unselected package python3-requests-toolbelt.
Preparing to unpack .../03-python3-requests-toolbelt_0.8.0-1.1_all.deb ...
Unpacking python3-requests-toolbelt (0.8.0-1.1) ...
Selecting previously unselected package python3-tz.
Preparing to unpack .../04-python3-tz_2019.3-1_all.deb ...
Unpacking python3-tz (2019.3-1) ...
Selecting previously unselected package python3-rfc3339.
Preparing to unpack .../05-python3-rfc3339_1.1-2_all.deb ...
Unpacking python3-rfc3339 (1.1-2) ...
Selecting previously unselected package python3-acme.
Preparing to unpack .../06-python3-acme_1.1.0-1_all.deb ...
Unpacking python3-acme (1.1.0-1) ...
Selecting previously unselected package python3-configargparse.
Preparing to unpack .../07-python3-configargparse_0.13.0-2_all.deb ...
Unpacking python3-configargparse (0.13.0-2) ...
Selecting previously unselected package python3-future.
Preparing to unpack .../08-python3-future_0.18.2-2_all.deb ...
Unpacking python3-future (0.18.2-2) ...
Selecting previously unselected package python3-parsedatetime.
Preparing to unpack .../09-python3-parsedatetime_2.4-5_all.deb ...
Unpacking python3-parsedatetime (2.4-5) ...
Selecting previously unselected package python3-zope.hookable.
Preparing to unpack .../10-python3-zope.hookable_5.0.0-1build1_amd64.deb ...
Unpacking python3-zope.hookable (5.0.0-1build1) ...
Selecting previously unselected package python3-zope.event.
Preparing to unpack .../11-python3-zope.event_4.4-2build1_all.deb ...
Unpacking python3-zope.event (4.4-2build1) ...
Selecting previously unselected package python3-zope.component.
Preparing to unpack .../12-python3-zope.component_4.3.0-3_all.deb ...
Unpacking python3-zope.component (4.3.0-3) ...
Selecting previously unselected package python3-certbot.
Preparing to unpack .../13-python3-certbot_0.40.0-1ubuntu0.1_all.deb ...
Unpacking python3-certbot (0.40.0-1ubuntu0.1) ...
Selecting previously unselected package certbot.
Preparing to unpack .../14-certbot_0.40.0-1ubuntu0.1_all.deb ...
Unpacking certbot (0.40.0-1ubuntu0.1) ...
Selecting previously unselected package python3-pyparsing.
Preparing to unpack .../15-python3-pyparsing_2.4.6-1_all.deb ...
Unpacking python3-pyparsing (2.4.6-1) ...
Selecting previously unselected package python3-certbot-nginx.
Preparing to unpack .../16-python3-certbot-nginx_0.40.0-0ubuntu0.1_all.deb ...
Unpacking python3-certbot-nginx (0.40.0-0ubuntu0.1) ...
Selecting previously unselected package python3-icu.
Preparing to unpack .../17-python3-icu_2.4.2-0ubuntu3_amd64.deb ...
Unpacking python3-icu (2.4.2-0ubuntu3) ...
Setting up python3-configargparse (0.13.0-2) ...
Setting up python3-requests-toolbelt (0.8.0-1.1) ...
Setting up python3-icu (2.4.2-0ubuntu3) ...
Setting up python3-zope.event (4.4-2build1) ...
Setting up python3-pbr (5.4.5-0ubuntu1) ...
update-alternatives: using /usr/bin/python3-pbr to provide /usr/bin/pbr (pbr) in auto mode
Setting up python3-tz (2019.3-1) ...
Setting up python3-mock (3.0.5-1build1) ...
Setting up python3-zope.hookable (5.0.0-1build1) ...
Setting up python3-pyparsing (2.4.6-1) ...
Setting up python3-josepy (1.2.0-2) ...
Setting up python3-future (0.18.2-2) ...
update-alternatives: using /usr/bin/python3-futurize to provide /usr/bin/futurize (futurize) in auto mode
update-alternatives: using /usr/bin/python3-pasteurize to provide /usr/bin/pasteurize (pasteurize) in auto mode
Setting up python3-rfc3339 (1.1-2) ...
Setting up python3-parsedatetime (2.4-5) ...
Setting up python3-zope.component (4.3.0-3) ...
Setting up python3-acme (1.1.0-1) ...
Setting up python3-certbot (0.40.0-1ubuntu0.1) ...
Setting up certbot (0.40.0-1ubuntu0.1) ...
Created symlink /etc/systemd/system/timers.target.wants/certbot.timer → /lib/systemd/system/certbot.timer.
Setting up python3-certbot-nginx (0.40.0-0ubuntu0.1) ...
Processing triggers for man-db (2.9.1-1) ...
root@ip-172-31-84-204:~# certbot -d navimaurya.in
Saving debug log to /var/log/letsencrypt/letsencrypt.log
Plugins selected: Authenticator nginx, Installer nginx
Enter email address (used for urgent renewal and security notices) (Enter 'c' to
cancel): ^CExiting abnormally:
Traceback (most recent call last):
  File "/usr/bin/certbot", line 11, in <module>
    load_entry_point('certbot==0.40.0', 'console_scripts', 'certbot')()
  File "/usr/lib/python3/dist-packages/certbot/main.py", line 1382, in main
    return config.func(config, plugins)
  File "/usr/lib/python3/dist-packages/certbot/main.py", line 1125, in run
    le_client = _init_le_client(config, authenticator, installer)
  File "/usr/lib/python3/dist-packages/certbot/main.py", line 607, in _init_le_client
    acc, acme = _determine_account(config)
  File "/usr/lib/python3/dist-packages/certbot/main.py", line 520, in _determine_account
    config.email = display_ops.get_email()
  File "/usr/lib/python3/dist-packages/certbot/display/ops.py", line 50, in get_email
    code, email = z_util(interfaces.IDisplay).input(
  File "/usr/lib/python3/dist-packages/certbot/display/util.py", line 179, in input
    ans = input_with_timeout(message)
  File "/usr/lib/python3/dist-packages/certbot/display/util.py", line 82, in input_with_timeout
    line = misc.readline_with_timeout(timeout, prompt)
  File "/usr/lib/python3/dist-packages/certbot/compat/misc.py", line 52, in readline_with_timeout
    rlist, _, _ = select.select([sys.stdin], [], [], timeout)
KeyboardInterrupt
Please see the logfiles in /var/log/letsencrypt for more details.
root@ip-172-31-84-204:~# certbot -d navimaurya.in -d www.navimaurya.in
Saving debug log to /var/log/letsencrypt/letsencrypt.log
Plugins selected: Authenticator nginx, Installer nginx
Enter email address (used for urgent renewal and security notices) (Enter 'c' to
cancel): ncmaurya99@gmail.com

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Please read the Terms of Service at
https://letsencrypt.org/documents/LE-SA-v1.2-November-15-2017.pdf. You must
agree in order to register with the ACME server at
https://acme-v02.api.letsencrypt.org/directory
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
(A)gree/(C)ancel: A


- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

Would you be willing to share your email address with the Electronic Frontier
Foundation, a founding partner of the Let's Encrypt project and the non-profit
organization that develops Certbot? We'd like to send you email about our work
encrypting the web, EFF news, campaigns, and ways to support digital freedom.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
(Y)es/(N)o: Y
Obtaining a new certificate
Performing the following challenges:
http-01 challenge for navimaurya.in
http-01 challenge for www.navimaurya.in
Using default address 80 for authentication.
Using default address 80 for authentication.
Waiting for verification...
Cleaning up challenges
Could not automatically find a matching server block for navimaurya.in. Set the `server_name` directive to use the Nginx installer.

IMPORTANT NOTES:
 - Unable to install the certificate
 - Congratulations! Your certificate and chain have been saved at:
   /etc/letsencrypt/live/navimaurya.in/fullchain.pem
   Your key file has been saved at:
   /etc/letsencrypt/live/navimaurya.in/privkey.pem
   Your cert will expire on 2022-04-22. To obtain a new or tweaked
   version of this certificate in the future, simply run certbot again
   with the "certonly" option. To non-interactively renew *all* of
   your certificates, run "certbot renew"
 - Your account credentials have been saved in your Certbot
   configuration directory at /etc/letsencrypt. You should make a
   secure backup of this folder now. This configuration directory will
   also contain certificates and private keys obtained by Certbot so
   making regular backups of this folder is ideal.
root@ip-172-31-84-204:~# cd   /etc/letsencrypt/live/navimaurya.in/
root@ip-172-31-84-204:/etc/letsencrypt/live/navimaurya.in# ls
README  cert.pem  chain.pem  fullchain.pem  privkey.pem
root@ip-172-31-84-204:/etc/letsencrypt/live/navimaurya.in#  cd ../../../
root@ip-172-31-84-204:/etc# cd nginx/
root@ip-172-31-84-204:/etc/nginx# cd sites-available/
root@ip-172-31-84-204:/etc/nginx/sites-available# nano default
root@ip-172-31-84-204:/etc/nginx/sites-available# nano default
root@ip-172-31-84-204:/etc/nginx/sites-available# systemctl restart nginx
root@ip-172-31-84-204:/etc/nginx/sites-available# cd ../
root@ip-172-31-84-204:/etc/nginx# cd ../
root@ip-172-31-84-204:/etc# cd ../
root@ip-172-31-84-204:/# cd ~
root@ip-172-31-84-204:~# cd pvbox/
root@ip-172-31-84-204:~/pvbox# node index.js
Server is started! in development
link is http://localhost:8080
DB connection successful!
AppError: You are not logged in!
    at exports.getLoggedInUser (/root/pvbox/controller/authController.js:240:25)
    at Layer.handle [as handle_request] (/root/pvbox/node_modules/express/lib/router/layer.js:95:5)
    at next (/root/pvbox/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/root/pvbox/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/root/pvbox/node_modules/express/lib/router/layer.js:95:5)
    at /root/pvbox/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/root/pvbox/node_modules/express/lib/router/index.js:335:12)
    at next (/root/pvbox/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/root/pvbox/node_modules/express/lib/router/index.js:174:3)
    at router (/root/pvbox/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/root/pvbox/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/root/pvbox/node_modules/express/lib/router/index.js:317:13)
    at /root/pvbox/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/root/pvbox/node_modules/express/lib/router/index.js:335:12)
    at next (/root/pvbox/node_modules/express/lib/router/index.js:275:10)
    at expressInit (/root/pvbox/node_modules/express/lib/middleware/init.js:40:5) {
  statusCode: 401,
  status: 'Fail',
  isOperational: true
}
------------------------------------------

root@ip-172-31-84-204:~/pvbox# npm i -g forever
npm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated
npm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated
npm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated
npm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated
npm WARN deprecated chokidar@2.1.8: Chokidar 2 will break on node v14+. Upgrade to chokidar 3 with 15x less dependencies.

added 225 packages, and audited 226 packages in 14s

1 package is looking for funding
  run `npm fund` for details

8 vulnerabilities (5 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
root@ip-172-31-84-204:~/pvbox# forever start index.js
warn:    --minUptime not set. Defaulting to: 1000ms
warn:    --spinSleepTime not set. Your script will exit if it does not stay up for at least 1000ms
info:    Forever processing file: index.js
(node:6292) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:6292) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
root@ip-172-31-84-204:~/pvbox# forever -help
help:    usage: forever [action] [options] SCRIPT [script-options]
help:
help:    Monitors the script specified in the current process or as a daemon
help:
help:    actions:
help:      start               Start SCRIPT as a daemon
help:      stop                Stop the daemon SCRIPT by Id|Uid|Pid|Index|Script
help:      stopall             Stop all running forever scripts
help:      restart             Restart the daemon SCRIPT
help:      restartall          Restart all running forever scripts
help:      list                List all running forever scripts
help:      config              Lists all forever user configuration
help:      set <key> <val>     Sets the specified forever config <key>
help:      clear <key>         Clears the specified forever config <key>
help:      logs                Lists log files for all forever processes
help:      logs <script|index> Tails the logs for <script|index>
help:      columns add <col>   Adds the specified column to the output in `forever list`. Supported columns: 'uid', 'command', 'script', 'forever', 'pid', 'id', 'logfile', 'uptime'
help:      columns rm <col>    Removed the specified column from the output in `forever list`
help:      columns set <cols>  Set all columns for the output in `forever list`
help:      columns reset       Resets all columns to defaults for the output in `forever list`
help:      cleanlogs           [CAREFUL] Deletes all historical forever log files
help:
help:    options:
help:      -m  MAX          Only run the specified script MAX times
help:      -l  LOGFILE      Logs the forever output to LOGFILE
help:      -o  OUTFILE      Logs stdout from child script to OUTFILE
help:      -e  ERRFILE      Logs stderr from child script to ERRFILE
help:      -p  PATH         Base path for all forever related files (pid files, etc.)
help:      -c  COMMAND      COMMAND to execute (defaults to node)
help:      -a, --append     Append logs
help:      -f, --fifo       Stream logs to stdout
help:      -n, --number     Number of log lines to print
help:      --pidFile        The pid file
help:      --uid            Process uid, useful as a namespace for processes (must wrap in a string)
help:                       e.g. forever start --uid "production" app.js
help:                           forever stop production
help:      --sourceDir      The source directory for which SCRIPT is relative to
help:      --workingDir     The working directory in which SCRIPT will execute
help:      --minUptime      Minimum uptime (millis) for a script to not be considered "spinning"
help:      --spinSleepTime  Time to wait (millis) between launches of a spinning script.
help:      --colors         --no-colors will disable output coloring
help:      --plain          alias of --no-colors
help:      -d, --debug      Forces forever to log debug output
help:      -v, --verbose    Turns on the verbose messages from Forever
help:      -s, --silent     Run the child script silencing stdout and stderr
help:      -w, --watch      Watch for file changes
help:      --watchDirectory Top-level directory to watch from
help:      --watchIgnore    To ignore pattern when watch is enabled (multiple option is allowed)
help:      -t, --killTree   Kills the entire child process tree on `stop`
help:      --killSignal     Support exit signal customization (default is SIGKILL)
help:                       used for restarting script gracefully e.g. --killSignal=SIGTERM
help:      --version        Print the current version
help:      -h, --help       You're staring at it
help:
help:    [Long Running Process]
help:      The forever process will continue to run outputting log messages to the console.
help:      ex. forever -o out.log -e err.log my-script.js
help:
help:    [Daemon]
help:      The forever process will run as a daemon which will make the target process start
help:      in the background. This is extremely useful for remote starting simple node.js scripts
help:      without using nohup. It is recommended to run start with -o -l, & -e.
help:      ex. forever start -l forever.log -o out.log -e err.log my-daemon.js
help:          forever stop my-daemon.js
help:
(node:6321) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:6321) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
root@ip-172-31-84-204:~/pvbox# forever --list
help:    usage: forever [action] [options] SCRIPT [script-options]
help:
help:    Monitors the script specified in the current process or as a daemon
help:
help:    actions:
help:      start               Start SCRIPT as a daemon
help:      stop                Stop the daemon SCRIPT by Id|Uid|Pid|Index|Script
help:      stopall             Stop all running forever scripts
help:      restart             Restart the daemon SCRIPT
help:      restartall          Restart all running forever scripts
help:      list                List all running forever scripts
help:      config              Lists all forever user configuration
help:      set <key> <val>     Sets the specified forever config <key>
help:      clear <key>         Clears the specified forever config <key>
help:      logs                Lists log files for all forever processes
help:      logs <script|index> Tails the logs for <script|index>
help:      columns add <col>   Adds the specified column to the output in `forever list`. Supported columns: 'uid', 'command', 'script', 'forever', 'pid', 'id', 'logfile', 'uptime'
help:      columns rm <col>    Removed the specified column from the output in `forever list`
help:      columns set <cols>  Set all columns for the output in `forever list`
help:      columns reset       Resets all columns to defaults for the output in `forever list`
help:      cleanlogs           [CAREFUL] Deletes all historical forever log files
help:
help:    options:
help:      -m  MAX          Only run the specified script MAX times
help:      -l  LOGFILE      Logs the forever output to LOGFILE
help:      -o  OUTFILE      Logs stdout from child script to OUTFILE
help:      -e  ERRFILE      Logs stderr from child script to ERRFILE
help:      -p  PATH         Base path for all forever related files (pid files, etc.)
help:      -c  COMMAND      COMMAND to execute (defaults to node)
help:      -a, --append     Append logs
help:      -f, --fifo       Stream logs to stdout
help:      -n, --number     Number of log lines to print
help:      --pidFile        The pid file
help:      --uid            Process uid, useful as a namespace for processes (must wrap in a string)
help:                       e.g. forever start --uid "production" app.js
help:                           forever stop production
help:      --sourceDir      The source directory for which SCRIPT is relative to
help:      --workingDir     The working directory in which SCRIPT will execute
help:      --minUptime      Minimum uptime (millis) for a script to not be considered "spinning"
help:      --spinSleepTime  Time to wait (millis) between launches of a spinning script.
help:      --colors         --no-colors will disable output coloring
help:      --plain          alias of --no-colors
help:      -d, --debug      Forces forever to log debug output
help:      -v, --verbose    Turns on the verbose messages from Forever
help:      -s, --silent     Run the child script silencing stdout and stderr
help:      -w, --watch      Watch for file changes
help:      --watchDirectory Top-level directory to watch from
help:      --watchIgnore    To ignore pattern when watch is enabled (multiple option is allowed)
help:      -t, --killTree   Kills the entire child process tree on `stop`
help:      --killSignal     Support exit signal customization (default is SIGKILL)
help:                       used for restarting script gracefully e.g. --killSignal=SIGTERM
help:      --version        Print the current version
help:      -h, --help       You're staring at it
help:
help:    [Long Running Process]
help:      The forever process will continue to run outputting log messages to the console.
help:      ex. forever -o out.log -e err.log my-script.js
help:
help:    [Daemon]
help:      The forever process will run as a daemon which will make the target process start
help:      in the background. This is extremely useful for remote starting simple node.js scripts
help:      without using nohup. It is recommended to run start with -o -l, & -e.
help:      ex. forever start -l forever.log -o out.log -e err.log my-daemon.js
help:          forever stop my-daemon.js
help:
(node:6329) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:6329) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
root@ip-172-31-84-204:~/pvbox# forever list
(node:6336) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:6336) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency
info:    Forever processes running
data:        uid  command             script   forever pid  id logfile                 uptime
data:    [0] CtRa /usr/local/bin/node index.js 6303    6310    /root/.forever/CtRa.log 0:0:0:59.148
root@ip-172-31-84-204:~/pvbox#
